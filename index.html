<!-- –î–æ–¥–∞—Ç–∏ —Ü–µ–π –∫–æ–¥ –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä–∏–≤–∞—é—á–∏–º </body> —Ç–µ–≥–æ–º -->

<!-- Garage Section -->
<div class="garage-section" id="garageSection">
    <div class="garage-header">
        <h2>üöó –ì–∞—Ä–∞–∂</h2>
        <div class="garage-stats">
            <span>–ú–∞—à–∏–Ω: <span id="totalCars">0</span></span>
            <span>–ü–æ—ñ–Ω—Ç—Å: <span id="totalPoints">11350</span></span>
        </div>
    </div>
    
    <div class="cars-grid">
        <div class="car-card available" onclick="buyCar('tonkeepe')">
            <div class="car-multiplier">X1.2</div>
            <div class="car-image">üèéÔ∏è</div>
            <div class="car-info">
                <h3>Tonkeepe-R 34</h3>
                <div class="car-rarity uncommon">Uncommon</div>
                <p>–ë–∞–ª–∞–Ω—Å —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –±–æ–∂–µ–≤—ñ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—é</p>
                <div class="car-price">0.5 TON</div>
            </div>
            <button class="get-btn">GET</button>
        </div>

        <div class="car-card available" onclick="buyCar('ai46')">
            <div class="car-multiplier">X1.5</div>
            <div class="car-reward">‚≠ê 200,000 PTS</div>
            <div class="car-image">üöô</div>
            <div class="car-info">
                <h3>Car AI46</h3>
                <div class="car-rarity rare">Rare</div>
                <p>AI46 –∞–≤—Ç–æ–º–æ–±—ñ–ª—å —Å–ø—Ä–∏—Ç–Ω–∏–π –∑ —Ç–æ—á–Ω–∏–º —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º</p>
                <div class="car-price">1.2 TON</div>
            </div>
            <button class="get-btn">GET</button>
            <div class="new-badge">NEW</div>
        </div>

        <div class="car-card available" onclick="buyCar('speedster')">
            <div class="car-multiplier">X2.0</div>
            <div class="car-reward">‚≠ê 10,000 Stars</div>
            <div class="car-image">üèÅ</div>
            <div class="car-info">
                <h3>Speed Demon</h3>
                <div class="car-rarity epic">Epic</div>
                <p>–ù–∞–π—à–≤–∏–¥—à–∏–π –∞–≤—Ç–æ–º–æ–±—ñ–ª—å –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó</p>
                <div class="car-price">2.5 TON</div>
            </div>
            <button class="get-btn">GET</button>
            <div class="new-badge">NEW</div>
        </div>

        <div class="car-card locked">
            <div class="car-multiplier">X3.0</div>
            <div class="car-image">üîí</div>
            <div class="car-info">
                <h3>Legendary Beast</h3>
                <div class="car-rarity legendary">Legendary</div>
                <p>–†–æ–∑–±–ª–æ–∫—É—î—Ç—å—Å—è –Ω–∞ 50 —Ä—ñ–≤–Ω—ñ</p>
                <div class="car-price">5.0 TON</div>
            </div>
            <button class="get-btn locked-btn">LOCKED</button>
        </div>
    </div>
</div>

<!-- Case Preview Modal -->
<div class="case-preview-modal" id="casePreviewModal">
    <div class="case-preview-content">
        <button class="close-modal" onclick="closeCasePreview()">√ó</button>
        <div class="case-preview-header">
            <div class="case-preview-title" id="previewCaseTitle">Free Case</div>
            <div class="case-preview-price" id="previewCasePrice">Free</div>
        </div>
        
        <div class="prizes-title">Possible prizes:</div>
        <div class="prizes-grid" id="prizesGrid">
            <!-- Prizes will be populated by JavaScript -->
        </div>
        
        <div class="modal-actions">
            <button class="open-case-btn" id="openCaseBtn" onclick="openCaseFromPreview()">
                Open Case
            </button>
            <button class="cancel-btn" onclick="closeCasePreview()">
                Cancel
            </button>
        </div>
    </div>
</div>

<!-- Inventory Styles -->
<div class="inventory-section" id="inventorySection">
    <div class="inventory-header">
        <h2>üéí –Ü–Ω–≤–µ–Ω—Ç–∞—Ä</h2>
        <div class="inventory-tabs">
            <div class="inv-tab active" onclick="showInventoryTab('cars')">–ú–∞—à–∏–Ω–∏</div>
            <div class="inv-tab" onclick="showInventoryTab('nfts')">NFT</div>
            <div class="inv-tab" onclick="showInventoryTab('items')">–ü—Ä–µ–¥–º–µ—Ç–∏</div>
        </div>
    </div>

    <div class="inventory-content">
        <div class="inventory-tab-content active" id="invCarsTab">
            <div class="inventory-grid" id="ownedCars">
                <div class="inventory-item empty">
                    <div class="empty-icon">üì¶</div>
                    <p>–ù–µ–º–∞—î –º–∞—à–∏–Ω</p>
                    <small>–ö—É–ø—ñ—Ç—å –º–∞—à–∏–Ω–∏ –≤ –≥–∞—Ä–∞–∂—ñ</small>
                </div>
            </div>
        </div>

        <div class="inventory-tab-content" id="invNftsTab">
            <div class="inventory-grid" id="ownedNfts">
                <div class="inventory-item empty">
                    <div class="empty-icon">üé®</div>
                    <p>–ù–µ–º–∞—î NFT</p>
                    <small>–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–µ–π—Å–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è NFT</small>
                </div>
            </div>
        </div>

        <div class="inventory-tab-content" id="invItemsTab">
            <div class="inventory-grid">
                <div class="inventory-item">
                    <div class="item-icon">‚≠ê</div>
                    <div class="item-name">Stars</div>
                    <div class="item-count" id="starsCount">245</div>
                </div>
                <div class="inventory-item">
                    <div class="item-icon">üéÅ</div>
                    <div class="item-name">Star Packs</div>
                    <div class="item-count" id="starPacksCount">12</div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Garage Styles */
.garage-section {
    display: none;
    padding: 1rem;
}

.garage-section.active {
    display: block;
}

.garage-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.garage-stats {
    display: flex;
    gap: 1rem;
    font-size: 0.9rem;
}

.cars-grid {
    display: grid;
    gap: 1rem;
    max-height: 70vh;
    overflow-y: auto;
}

.car-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 1.5rem;
    position: relative;
    transition: all 0.3s ease;
    cursor: pointer;
}

.car-card:hover {
    transform: translateY(-5px);
    border-color: rgba(255, 255, 255, 0.3);
    box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
}

.car-card.locked {
    opacity: 0.6;
    cursor: not-allowed;
}

.car-multiplier {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background: rgba(255, 255, 255, 0.1);
    padding: 0.25rem 0.5rem;
    border-radius: 8px;
    font-weight: bold;
    font-size: 0.9rem;
}

.car-reward {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: linear-gradient(135deg, #ffd700, #ffb347);
    color: #000;
    padding: 0.25rem 0.5rem;
    border-radius: 8px;
    font-weight: bold;
    font-size: 0.8rem;
}

.car-image {
    font-size: 4rem;
    text-align: center;
    margin: 1rem 0;
}

.car-info h3 {
    font-size: 1.2rem;
    margin-bottom: 0.5rem;
}

.car-rarity {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.car-rarity.uncommon {
    background: rgba(0, 255, 0, 0.2);
    color: #00ff00;
}

.car-rarity.rare {
    background: rgba(0, 150, 255, 0.2);
    color: #0096ff;
}

.car-rarity.epic {
    background: rgba(128, 0, 128, 0.2);
    color: #ff00ff;
}

.car-rarity.legendary {
    background: rgba(255, 215, 0, 0.2);
    color: #ffd700;
}

.car-info p {
    font-size: 0.9rem;
    opacity: 0.8;
    margin-bottom: 1rem;
}

.car-price {
    font-size: 1.1rem;
    font-weight: bold;
    color: #ffd700;
    margin-bottom: 1rem;
}

.get-btn {
    background: linear-gradient(135deg, #00ff88, #00cc66);
    color: #000;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    width: 100%;
    transition: all 0.3s ease;
}

.get-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
}

.locked-btn {
    background: rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.5) !important;
    cursor: not-allowed !important;
}

.new-badge {
    position: absolute;
    top: 0;
    right: 0;
    background: linear-gradient(135deg, #ff6b6b, #ff5252);
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 0 20px 0 10px;
    font-size: 0.7rem;
    font-weight: bold;
}

/* Case Preview Modal */
.case-preview-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    backdrop-filter: blur(10px);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.case-preview-modal.active {
    display: flex;
}

.case-preview-content {
    background: rgba(20, 20, 20, 0.95);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 20px;
    padding: 2rem;
    max-width: 350px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    text-align: center;
    position: relative;
}

.case-preview-header {
    margin-bottom: 1.5rem;
}

.case-preview-title {
    font-size: 1.3rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.case-preview-price {
    font-size: 1.1rem;
    color: #ffd700;
    font-weight: bold;
}

.prizes-title {
    margin: 1.5rem 0 1rem;
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.8);
}

.prizes-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    margin-bottom: 2rem;
}

.prize-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 0.75rem;
    text-align: center;
    transition: all 0.3s ease;
}

.prize-item:hover {
    border-color: rgba(255, 255, 255, 0.3);
    transform: scale(1.05);
}

.prize-icon {
    font-size: 1.5rem;
    margin-bottom: 0.25rem;
    display: block;
}

.prize-name {
    font-size: 0.8rem;
    margin-bottom: 0.25rem;
    font-weight: 500;
}

.prize-value {
    font-size: 0.7rem;
    color: #ffd700;
    font-weight: bold;
}

.prize-rarity {
    font-size: 0.6rem;
    padding: 0.1rem 0.3rem;
    border-radius: 4px;
    margin-top: 0.25rem;
    display: inline-block;
}

.rarity-common {
    background: rgba(128, 128, 128, 0.3);
    color: #c0c0c0;
}

.rarity-uncommon {
    background: rgba(0, 255, 0, 0.2);
    color: #00ff00;
}

.rarity-rare {
    background: rgba(0, 150, 255, 0.2);
    color: #0096ff;
}

.rarity-epic {
    background: rgba(128, 0, 128, 0.2);
    color: #ff00ff;
}

.rarity-legendary {
    background: rgba(255, 215, 0, 0.2);
    color: #ffd700;
}

.modal-actions {
    display: flex;
    gap: 1rem;
    margin-top: 1.5rem;
}

.open-case-btn {
    flex: 1;
    background: linear-gradient(135deg, #00ff88, #00cc66);
    color: #000;
    border: none;
    padding: 0.75rem;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.open-case-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 255, 136, 0.3);
}

.open-case-btn:disabled {
    background: rgba(255, 255, 255, 0.1);
    color: rgba(255, 255, 255, 0.5);
    cursor: not-allowed;
}

.cancel-btn {
    flex: 1;
    background: rgba(255, 255, 255, 0.1);
    color: white;
    border: none;
    padding: 0.75rem;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
}

.cancel-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}
.inventory-section {
    display: none;
    padding: 1rem;
}

.inventory-section.active {
    display: block;
}

.inventory-header {
    margin-bottom: 1.5rem;
}

.inventory-tabs {
    display: flex;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 15px;
    padding: 0.25rem;
    margin-top: 1rem;
}

.inv-tab {
    flex: 1;
    padding: 0.75rem;
    text-align: center;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
}

.inv-tab.active {
    background: rgba(255, 255, 255, 0.1);
    color: white;
}

.inventory-tab-content {
    display: none;
    margin-top: 1rem;
}

.inventory-tab-content.active {
    display: block;
}

.inventory-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.inventory-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 15px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
}

.inventory-item:hover {
    transform: translateY(-3px);
    border-color: rgba(255, 255, 255, 0.3);
}

.inventory-item.empty {
    opacity: 0.6;
    border-style: dashed;
}

.empty-icon, .item-icon {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
    display: block;
}

.item-name {
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.item-count {
    font-size: 1.2rem;
    font-weight: bold;
    color: #ffd700;
}

.inventory-item.empty p {
    margin: 0.5rem 0 0.25rem;
    font-weight: 600;
}

.inventory-item.empty small {
    opacity: 0.7;
    font-size: 0.8rem;
}
</style>

<script>
// –î–æ–¥–∞—Ç–∏ —Ü—ñ –∑–º—ñ–Ω–Ω—ñ –≤ –ø–æ—á–∞—Ç–æ–∫ —ñ—Å–Ω—É—é—á–æ–≥–æ JavaScript –∫–æ–¥—É
let ownedCars = JSON.parse(localStorage.getItem('ownedCars') || '[]');
let ownedNfts = JSON.parse(localStorage.getItem('ownedNfts') || '[]');
let totalPoints = parseInt(localStorage.getItem('totalPoints') || '11350');
let starsCount = parseInt(localStorage.getItem('starsCount') || '245');
let starPacksCount = parseInt(localStorage.getItem('starPacksCount') || '12');
let currentPreviewCase = null;

const cars = {
    tonkeepe: { name: 'Tonkeepe-R 34', price: 0.5, rarity: 'uncommon', multiplier: 1.2, icon: 'üèéÔ∏è' },
    ai46: { name: 'Car AI46', price: 1.2, rarity: 'rare', multiplier: 1.5, icon: 'üöô' },
    speedster: { name: 'Speed Demon', price: 2.5, rarity: 'epic', multiplier: 2.0, icon: 'üèÅ' }
};

const casePrizes = {
    free: [
        { name: 'Star Pack', icon: '‚≠ê', value: 0.05, rarity: 'common' },
        { name: 'Stars Gift', icon: 'üéÅ', value: 0.1, rarity: 'common' },
        { name: 'Basic NFT', icon: 'üé®', value: 0.25, rarity: 'uncommon' }
    ],
    basic: [
        { name: 'Star Pack', icon: '‚≠ê', value: 0.05, rarity: 'common' },
        { name: 'Stars Gift', icon: 'üéÅ', value: 0.1, rarity: 'common' },
        { name: 'Basic NFT', icon: 'üé®', value: 0.25, rarity: 'uncommon' },
        { name: 'Trophy NFT', icon: 'üèÜ', value: 0.5, rarity: 'rare' }
    ],
    premium: [
        { name: 'Basic NFT', icon: 'üé®', value: 0.25, rarity: 'uncommon' },
        { name: 'Trophy NFT', icon: 'üèÜ', value: 0.5, rarity: 'rare' },
        { name: 'Diamond NFT', icon: 'üíé', value: 1.0, rarity: 'epic' },
        { name: 'Crown NFT', icon: 'üëë', value: 1.5, rarity: 'epic' }
    ],
    legendary: [
        { name: 'Trophy NFT', icon: 'üèÜ', value: 0.5, rarity: 'rare' },
        { name: 'Diamond NFT', icon: 'üíé', value: 1.0, rarity: 'epic' },
        { name: 'Crown NFT', icon: 'üëë', value: 1.5, rarity: 'epic' },
        { name: 'Golden Watch', icon: '‚åö', value: 2.0, rarity: 'legendary' },
        { name: 'Legendary Gem', icon: 'üíç', value: 3.0, rarity: 'legendary' }
    ]
};

function showCasePreview(caseType) {
    currentPreviewCase = caseType;
    const prices = { free: 0, basic: 0.1, premium: 0.5, legendary: 1.0 };
    const priceTexts = { free: 'Free', basic: '0.1 TON', premium: '0.5 TON', legendary: '1.0 TON' };
    const titles = { free: 'Free Case', basic: 'Basic Case', premium: 'Premium Case', legendary: 'Legendary Case' };
    
    document.getElementById('previewCaseTitle').textContent = titles[caseType];
    document.getElementById('previewCasePrice').textContent = priceTexts[caseType];
    
    const prizesGrid = document.getElementById('prizesGrid');
    const prizes = casePrizes[caseType];
    
    prizesGrid.innerHTML = prizes.map(prize => `
        <div class="prize-item">
            <span class="prize-icon">${prize.icon}</span>
            <div class="prize-name">${prize.name}</div>
            <div class="prize-value">${prize.value} TON</div>
            <div class="prize-rarity rarity-${prize.rarity}">${prize.rarity}</div>
        </div>
    `).join('');
    
    const openBtn = document.getElementById('openCaseBtn');
    const price = prices[caseType];
    
    if (balance < price) {
        openBtn.disabled = true;
        openBtn.textContent = 'Not enough funds';
    } else {
        openBtn.disabled = false;
        openBtn.textContent = 'Open Case';
    }
    
    document.getElementById('casePreviewModal').classList.add('active');
}

function closeCasePreview() {
    document.getElementById('casePreviewModal').classList.remove('active');
    currentPreviewCase = null;
}

function openCaseFromPreview() {
    if (currentPreviewCase) {
        openCase(currentPreviewCase);
        closeCasePreview();
    }
}

function buyCar(carId) {
    const car = cars[carId];
    if (!car) return;

    if (balance < car.price) {
        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤!');
        return;
    }

    if (ownedCars.find(c => c.id === carId)) {
        showNotification('–¶—è –º–∞—à–∏–Ω–∞ –≤–∂–µ —É –≤–∞—Å —î!');
        return;
    }

    balance -= car.price;
    totalSpent += car.price;
    ownedCars.push({
        id: carId,
        name: car.name,
        rarity: car.rarity,
        multiplier: car.multiplier,
        icon: car.icon,
        purchaseDate: new Date().toISOString()
    });

    saveCarData();
    updateDisplay();
    updateInventoryDisplay();
    showNotification(`–ú–∞—à–∏–Ω—É ${car.name} –∫—É–ø–ª–µ–Ω–æ!`);
}

function showInventoryTab(tab) {
    document.querySelectorAll('.inv-tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.inventory-tab-content').forEach(c => c.classList.remove('active'));
    
    event.target.classList.add('active');
    document.getElementById(`inv${tab.charAt(0).toUpperCase() + tab.slice(1)}Tab`).classList.add('active');
}

function updateInventoryDisplay() {
    // Update cars in inventory
    const carsContainer = document.getElementById('ownedCars');
    if (ownedCars.length === 0) {
        carsContainer.innerHTML = `
            <div class="inventory-item empty">
                <div class="empty-icon">üì¶</div>
                <p>–ù–µ–º–∞—î –º–∞—à–∏–Ω</p>
                <small>–ö—É–ø—ñ—Ç—å –º–∞—à–∏–Ω–∏ –≤ –≥–∞—Ä–∞–∂—ñ</small>
            </div>
        `;
    } else {
        carsContainer.innerHTML = ownedCars.map(car => `
            <div class="inventory-item">
                <div class="item-icon">${car.icon}</div>
                <div class="item-name">${car.name}</div>
                <div class="car-rarity ${car.rarity}">${car.rarity}</div>
                <div class="item-count">x${car.multiplier}</div>
            </div>
        `).join('');
    }

    // Update NFTs in inventory
    const nftsContainer = document.getElementById('ownedNfts');
    if (ownedNfts.length === 0) {
        nftsContainer.innerHTML = `
            <div class="inventory-item empty">
                <div class="empty-icon">üé®</div>
                <p>–ù–µ–º–∞—î NFT</p>
                <small>–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–µ–π—Å–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è NFT</small>
            </div>
        `;
    } else {
        nftsContainer.innerHTML = ownedNfts.map(nft => `
            <div class="inventory-item">
                <div class="item-icon">${nft.icon || 'üé®'}</div>
                <div class="item-name">${nft.name}</div>
                <div class="car-rarity ${nft.rarity}">${nft.rarity}</div>
                <div class="item-count">${nft.value} TON</div>
            </div>
        `).join('');
    }

    // Update stats
    document.getElementById('totalCars').textContent = ownedCars.length;
    document.getElementById('totalPoints').textContent = totalPoints.toLocaleString();
    document.getElementById('starsCount').textContent = starsCount;
    document.getElementById('starPacksCount').textContent = starPacksCount;
}

function saveCarData() {
    localStorage.setItem('ownedCars', JSON.stringify(ownedCars));
    localStorage.setItem('ownedNfts', JSON.stringify(ownedNfts));
    localStorage.setItem('totalPoints', totalPoints.toString());
    localStorage.setItem('starsCount', starsCount.toString());
    localStorage.setItem('starPacksCount', starPacksCount.toString());
}

// –ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é showTab
function showTab(tab) {
    document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
    document.querySelectorAll('.home-section, .profile-section, .garage-section, .inventory-section').forEach(s => s.classList.remove('active'));
    
    event.target.closest('.nav-item').classList.add('active');
    
    if (tab === 'home') {
        document.getElementById('homeSection').classList.add('active');
        showSection('home');
    } else if (tab === 'profile') {
        document.getElementById('profileSection').classList.add('active');
    } else if (tab === 'garage') {
        document.getElementById('garageSection').classList.add('active');
        updateInventoryDisplay();
    } else if (tab === 'inventory') {
        document.getElementById('inventorySection').classList.add('active');
        updateInventoryDisplay();
    }
}

// –ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é openCase –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è NFT –≤ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä
function openCase(type) {
    const prices = { free: 0, basic: 0.1, premium: 0.5, legendary: 1.0 };
    const price = prices[type];

    if (balance < price) {
        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –∫–æ—à—Ç—ñ–≤! –ü–æ–ø–æ–≤–Ω—ñ—Ç—å –±–∞–ª–∞–Ω—Å.');
        return;
    }

    balance -= price;
    totalCases++;
    totalSpent += price;

    const isWin = Math.random() < 0.7; // 70% win chance
    
    if (isWin) {
        const prizes = casePrizes[type];
        const reward = prizes[Math.floor(Math.random() * prizes.length)];
        totalWins++;
        totalWon += reward.value;
        balance += reward.value;
        
        // –î–æ–¥–∞—Ç–∏ NFT –≤ —ñ–Ω–≤–µ–Ω—Ç–∞—Ä
        ownedNfts.push({
            id: Date.now(),
            name: reward.name,
            rarity: reward.rarity,
            value: reward.value,
            icon: reward.icon,
            obtainedDate: new Date().toISOString()
        });
        
        showNotification(`–í–∏ –≤–∏–≥—Ä–∞–ª–∏: ${reward.name}! (+${reward.value} TON)`);
    } else {
        starsCount += 1;
        showNotification('–í–∏ –≤–∏–≥—Ä–∞–ª–∏ 1 –∑—ñ—Ä–∫—É. –í—ñ—Ç–∞—î–º–æ!');
    }

    saveData();
    saveCarData();
    updateDisplay();
    updateInventoryDisplay();
}

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
updateInventoryDisplay();
</script>

<!-- –û–Ω–æ–≤–∏—Ç–∏ –Ω–∏–∂–Ω—é –Ω–∞–≤—ñ–≥–∞—Ü—ñ—é -->
<script>
// –ó–∞–º—ñ–Ω–∏—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –±–ª–æ–∫ bottom-nav –≤ HTML –Ω–∞ —Ü–µ–π:
document.querySelector('.bottom-nav').innerHTML = `
    <div class="nav-item active" onclick="showTab('home')">
        <span class="nav-label">Home</span>
    </div>
    <div class="nav-item" onclick="showTab('garage')">
        <span class="nav-label">–ì–∞—Ä–∞–∂</span>
    </div>
    <div class="nav-item" onclick="showTab('inventory')">
        <span class="nav-label">–Ü–Ω–≤–µ–Ω—Ç–∞—Ä</span>
    </div>

    <div class="nav-item" onclick="showTab('profile')">
        <span class="nav-label">Profile</span>
    </div>
`;
</script>
